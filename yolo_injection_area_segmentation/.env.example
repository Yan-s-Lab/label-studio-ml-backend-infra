# YOLO注射区域分割模型 - 环境配置示例
# 复制此文件为 .env 并根据你的环境修改配置

# =============================================================================
# Label Studio 连接配置 (必需)
# =============================================================================

# Label Studio服务器地址
LABEL_STUDIO_URL=http://192.168.1.124:8080/

# Label Studio API密钥 (从 Account & Settings 获取)
LABEL_STUDIO_API_KEY=your_api_key_here

# =============================================================================
# 模型配置
# =============================================================================

# 模型文件路径 (相对于项目根目录)
MODEL_PATH=train6/weights/best.pt

# 模型版本
MODEL_VERSION=1.0.0

# =============================================================================
# 推理参数
# =============================================================================

# 置信度阈值 (0.0-1.0)
CONFIDENCE_THRESHOLD=0.25

# IoU阈值 (0.0-1.0)
IOU_THRESHOLD=0.7

# 输入图像尺寸 (像素)
IMAGE_SIZE=640

# 最大检测数量
MAX_DETECTIONS=300

# =============================================================================
# 设备配置
# =============================================================================

# 计算设备 (auto/cpu/cuda/cuda:0)
DEVICE=auto

# =============================================================================
# 服务配置
# =============================================================================

# 服务端口
PORT=9090

# 服务主机地址
HOST=0.0.0.0

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别 (DEBUG/INFO/WARNING/ERROR)
LOG_LEVEL=INFO

# 日志文件路径 (可选)
# LOG_FILE=/var/log/ml_backend.log

# =============================================================================
# Label Studio 标注配置
# =============================================================================

# 任务数据中的图像键名
LABEL_STUDIO_TASK_DATA_KEY=image

# 标注来源名称
LABEL_STUDIO_FROM_NAME=label

# 标注目标名称
LABEL_STUDIO_TO_NAME=image

# =============================================================================
# 性能优化配置
# =============================================================================

# 启用模型缓存
ENABLE_MODEL_CACHE=true

# 批处理大小
BATCH_SIZE=1

# 工作进程数 (生产环境)
WORKERS=4

# =============================================================================
# 安全配置
# =============================================================================

# 允许的图像格式
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png,bmp,tiff

# 最大图像文件大小 (MB)
MAX_IMAGE_SIZE_MB=50

# 请求超时时间 (秒)
REQUEST_TIMEOUT=30

# =============================================================================
# 调试配置
# =============================================================================

# 启用调试模式
DEBUG=false

# 保存预测结果图像
SAVE_PREDICTION_IMAGES=false

# 预测结果保存路径
PREDICTION_OUTPUT_DIR=./predictions

# =============================================================================
# 高级配置
# =============================================================================

# 自定义类别映射 (JSON格式)
# CLASS_MAPPING={"0": "arm_injection_area", "1": "other_area"}

# 自定义颜色映射 (JSON格式)
# COLOR_MAPPING={"arm_injection_area": "#FFA39E"}

# 模型预热 (启动时运行一次推理)
MODEL_WARMUP=true

# 启用ONNX推理 (如果有ONNX模型)
USE_ONNX=false

# ONNX模型路径
# ONNX_MODEL_PATH=train6/weights/best.onnx
